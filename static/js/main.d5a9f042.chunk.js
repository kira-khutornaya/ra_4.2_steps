(this["webpackJsonpra_4.2_steps"]=this["webpackJsonpra_4.2_steps"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(10),i=n.n(s),r=(n(16),n(17),n(5)),d=n(2),o=n(7),u=n(8),l=n(11),j=n.n(l),b={date:"",distance:"",edit:!1},m=function(e,t){return e&&t?Number(t)?!!/^[0-3]?[0-9][.][0-3]?[0-9][.][0-9]{4}$/.test(e)||(alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f! \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u0442\u0443 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0414\u0414.\u041c\u041c.\u0413\u0413\u0413\u0413"),!1):(alert('\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044f "\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e \u043a\u043c" \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c'),!1):(alert('\u041f\u043e\u043b\u044f "\u0414\u0430\u0442\u0430" \u0438 "\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e \u043a\u043c" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f'),!1)},p=n(0);var O=function(e){var t=e.form,n=e.onSubmit,a=e.onChange;return Object(p.jsx)("div",{className:"StepsForm-control",children:Object(p.jsxs)("form",{className:"StepsForm",onSubmit:n,children:[Object(p.jsxs)("div",{className:"StepsForm__group",children:[Object(p.jsx)("label",{htmlFor:"date",children:"\u0414\u0430\u0442\u0430"}),Object(p.jsx)("input",{className:"StepsForm__field",id:"date",type:"text",name:"date",placeholder:"\u0414\u0414.\u041c\u041c.\u0413\u0413",value:t.date,onChange:a})]}),Object(p.jsxs)("div",{className:"StepsForm__group",children:[Object(p.jsx)("label",{htmlFor:"distance",children:"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e \u043a\u043c"}),Object(p.jsx)("input",{className:"StepsForm__field",id:"distance",type:"text",name:"distance",placeholder:"0",value:t.distance,onChange:a})]}),Object(p.jsx)("button",{className:"StepsForm__button button",type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})})};var f=function(e){var t=e.item,n=e.onEdit,a=e.onDelete,c=t.id,s=t.date,i=t.distance;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"StepsListItem__date",children:s.toLocaleDateString()}),Object(p.jsx)("div",{className:"StepsListItem__distance",children:+i.toFixed(1)}),Object(p.jsxs)("div",{className:"StepsListItem__control",children:[Object(p.jsx)("button",{className:"StepsListItem__editing button",type:"button",onClick:function(){return n(c)},children:"\u270e"}),Object(p.jsx)("button",{className:"StepsListItem__removing button",type:"button",onClick:function(){return a(c)},children:"\u2718"})]})]})};function h(e){var t=e.data,n=e.onEdit,a=e.onDelete;return Object(p.jsx)("ul",{className:"StepsList",children:t.map((function(e){return Object(p.jsx)("li",{className:"StepsList__item",children:Object(p.jsx)(f,{item:e,onEdit:n,onDelete:a})},e.id)}))})}h.defaultProps={data:[]};var v=h;function x(e){var t=e.stepsData,n=e.onEdit,a=e.onDelete,c=Object(o.a)(t);return c.sort((function(e,t){return t.date.getTime()-e.date.getTime()})),Object(p.jsxs)("div",{className:"StepsTable",children:[Object(p.jsxs)("div",{className:"StepsTable__header",children:[Object(p.jsx)("span",{children:"\u0414\u0430\u0442\u0430"}),Object(p.jsx)("span",{children:"\u041f\u0440\u043e\u0439\u0434\u0435\u043d\u043e \u043a\u043c"}),Object(p.jsx)("span",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]}),Object(p.jsx)(v,{data:c,onEdit:n,onDelete:a})]})}x.defaultProps={stepsData:[]};var _=x;var S=function(){var e=Object(a.useState)(b),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),i=Object(u.a)(s,2),l=i[0],f=i[1],h=Object(a.useState)(null),v=Object(u.a)(h,2),x=v[0],S=v[1];return Object(p.jsxs)("div",{className:"StepsManager",children:[Object(p.jsx)(O,{form:n,onSubmit:function(e){e.preventDefault();var t=n.date,a=n.distance,s=n.edit;if(m(t,a)){var i=t.split("."),r=new Date(i[2],i[1]-1,i[0]),u=l.find((function(e){return e.date.getTime()===r.getTime()}));if(u||s)if(!u&&s){var p=l.map((function(e){return e.id===x?Object(d.a)(Object(d.a)({},e),{},{date:r,distance:Number(a)}):e}));f(p)}else if(u&&!s){var O=l.map((function(e){return e.id===u.id?Object(d.a)(Object(d.a)({},e),{},{distance:u.distance+Number(a)}):e}));f(O)}else{var h=l.map((function(e){return e.id===u.id?Object(d.a)(Object(d.a)({},e),{},{date:r,distance:Number(a)}):e}));f(h)}else f((function(e){return[].concat(Object(o.a)(e),[{id:j.a.generate(),date:r,distance:Number(a),edit:!1}])}));c(b)}},onChange:function(e){var t=e.target;c((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(r.a)({},t.name,t.value))}))}}),Object(p.jsx)(_,{stepsData:l,onEdit:function(e){var t=l.find((function(t){return t.id===e}));c({date:t.date.toLocaleDateString(),distance:t.distance,edit:!0}),S(e)},onDelete:function(e){f((function(){return l.filter((function(t){return t.id!==e}))})),c(b)}})]})};var g=function(){return Object(p.jsx)(S,{})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,28)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(g,{})}),document.getElementById("root")),N()}},[[27,1,2]]]);
//# sourceMappingURL=main.d5a9f042.chunk.js.map